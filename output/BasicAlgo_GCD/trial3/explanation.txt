The bug in the original program is that it starts checking for common divisors from the minimum of A and B and goes down to 2. This approach fails when A and B are co-prime (i.e., their GCD is 1), because the loop never reaches 1. The fix is to use the Euclidean algorithm to find the GCD, which is what the corrected program does. In this algorithm, the GCD of two numbers A and B is the same as the GCD of B and A % B, until B becomes 0. At that point, A is the GCD.